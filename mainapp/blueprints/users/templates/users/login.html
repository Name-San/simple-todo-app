{% extends "base.html" %}
{% block title %}
    Login Page
{% endblock %}
{% block content %}
    {% with messages = get_flashed_messages() %}
        {% for message in messages %}
            <div class="alert alert-info">{{ message }}</div>
        {% endfor %}
    {% endwith %}
    <div id="sign-in" class="signin_form">
        <h1>Sign In</h1>
        <form action="{{ url_for('users.login') }}" method="POST">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required>
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>
            <input type="submit" value="Sign In">
        </form>
        <p>No account yet?<a href="#" onclick="switchForm()">Sign up</a> here</p>
    </div>
    <div id="sign-up" class="signup_form">
        <h1>Sign Up</h1>
        <form action="{{ url_for('users.register') }}" method="POST">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required>
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>
            <input type="submit" value="Sign Up">
        </form>
        <p>Already had an account?<a href="#" onclick="switchForm()">Sign in</a> here</p>
    </div>

    <script type="text/javascript">
        function switchForm() {
            const signIn = document.getElementById('sign-in')
            const signUp = document.getElementById('sign-up')

            if (signUp.style.display == 'none') {
                signUp.style.display = 'block'
                signIn.style.display = 'none'
            } else {
                signUp.style.display = 'none'
                signIn.style.display = 'block'
            }
        }
    </script>
{% endblock %}